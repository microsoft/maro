facility_definitions:
  # Key: would be used as definition_ref in world.facilities
  PlantFacility:
    children:
      distribution:
        class: DistributionUnit
      storage:
        class: StorageUnit
    class: SupplierFacility
    datamodel: FacilityDataModel
    products:
      class: ProductUnit
      config:
        consumer:
          class: ConsumerUnit
        manufacture:
          class: ManufactureUnit

  StoreFacility:
    class: OuterRetailerFacility
    datamodel: FacilityDataModel
    children:
      storage:
        class: StorageUnit
    products:
      class: StoreProductUnit
      config:
        consumer:
          class: ConsumerUnit
        seller:
          class: OuterSellerUnit
          config:
            sale_hist_len: 14
    config:
      datetime_column: Date
      demand_column: Sold
      dynamics_sampler_type: processed_price_demand
      file_path: /path/to/data.csv
      price_column: Price
      sku_column: SkuName


single_storage: &single_storage
  config:
    capacity: 1000000
    unit_storage_cost: 0.2


simple_distribution: &simple_distribution
  config:
    train:
      number: 1000


world:
  skus:
    - id: 0
      name: SKU0

    - id: 1
      name: SKU1

    - id: 2
      name: SKU2

    - id: 3
      name: SKU3

    - id: 4
      name: SKU4

    - id: 5
      name: SKU5

    - id: 6
      name: SKU6

    - id: 7
      name: SKU7

    - id: 8
      name: SKU8

    - id: 9
      name: SKU9

  facilities:
    - name: Plant
      definition_ref: PlantFacility
      skus:
        SKU0:
          price: 7.81
          init_stock: 100000
          sub_storage_id: 0
          has_manufacture: True
          max_manufacture_rate: 10000
          unit_delay_order_penalty: 1000
          unit_order_cost: 1.0
          unit_product_cost: 3
        SKU1:
          price: 7.78
          init_stock: 100000
          sub_storage_id: 0
          has_manufacture: True
          max_manufacture_rate: 10000
          unit_delay_order_penalty: 1000
          unit_order_cost: 1.0
          unit_product_cost: 3
        SKU2:
          price: 5.21
          init_stock: 100000
          sub_storage_id: 0
          has_manufacture: True
          max_manufacture_rate: 10000
          unit_delay_order_penalty: 1000
          unit_order_cost: 1.0
          unit_product_cost: 2
        SKU3:
          price: 26.18
          init_stock: 100000
          sub_storage_id: 0
          has_manufacture: True
          max_manufacture_rate: 10000
          unit_delay_order_penalty: 1000
          unit_order_cost: 1.0
          unit_product_cost: 13
        SKU4:
          price: 5.67
          init_stock: 100000
          sub_storage_id: 0
          has_manufacture: True
          max_manufacture_rate: 10000
          unit_delay_order_penalty: 1000
          unit_order_cost: 1.0
          unit_product_cost: 2
        SKU5:
          price: 5.17
          init_stock: 100000
          sub_storage_id: 0
          has_manufacture: True
          max_manufacture_rate: 10000
          unit_delay_order_penalty: 1000
          unit_order_cost: 1.0
          unit_product_cost: 2
        SKU6:
          price: 6.9
          init_stock: 100000
          sub_storage_id: 0
          has_manufacture: True
          max_manufacture_rate: 10000
          unit_delay_order_penalty: 1000
          unit_order_cost: 1.0
          unit_product_cost: 3
        SKU7:
          price: 12.66
          init_stock: 100000
          sub_storage_id: 0
          has_manufacture: True
          max_manufacture_rate: 10000
          unit_delay_order_penalty: 1000
          unit_order_cost: 1.0
          unit_product_cost: 6
        SKU8:
          price: 17.49
          init_stock: 100000
          sub_storage_id: 0
          has_manufacture: True
          max_manufacture_rate: 10000
          unit_delay_order_penalty: 1000
          unit_order_cost: 1.0
          unit_product_cost: 8
        SKU9:
          price: 19.31
          init_stock: 100000
          sub_storage_id: 0
          has_manufacture: True
          max_manufacture_rate: 10000
          unit_delay_order_penalty: 1000
          unit_order_cost: 1.0
          unit_product_cost: 9
      children:
        storage: *single_storage
        distribution: *simple_distribution
      config:
        unit_delay_order_penalty: 1000
        unit_order_cost: 1.0

    - name: Store_0
      definition_ref: StoreFacility
      skus:
        SKU0:
          price: 0.0
          init_stock: 0
          sub_storage_id: 0
          has_consumer: True
          has_seller: True
          sale_gamma: 100
          unit_order_cost: 1.0
          backlog_ratio: 0.01
        SKU1:
          price: 0.0
          init_stock: 0
          sub_storage_id: 0
          has_consumer: True
          has_seller: True
          sale_gamma: 100
          unit_order_cost: 1.0
          backlog_ratio: 0.01
        SKU2:
          price: 0.0
          init_stock: 0
          sub_storage_id: 0
          has_consumer: True
          has_seller: True
          sale_gamma: 100
          unit_order_cost: 1.0
          backlog_ratio: 0.01
        SKU3:
          price: 0.0
          init_stock: 0
          sub_storage_id: 0
          has_consumer: True
          has_seller: True
          sale_gamma: 100
          unit_order_cost: 1.0
          backlog_ratio: 0.01
        SKU4:
          price: 0.0
          init_stock: 0
          sub_storage_id: 0
          has_consumer: True
          has_seller: True
          sale_gamma: 100
          unit_order_cost: 1.0
          backlog_ratio: 0.01
        SKU5:
          price: 0.0
          init_stock: 0
          sub_storage_id: 0
          has_consumer: True
          has_seller: True
          sale_gamma: 100
          unit_order_cost: 1.0
          backlog_ratio: 0.01
        SKU6:
          price: 0.0
          init_stock: 0
          sub_storage_id: 0
          has_consumer: True
          has_seller: True
          sale_gamma: 100
          unit_order_cost: 1.0
          backlog_ratio: 0.01
        SKU7:
          price: 0.0
          init_stock: 0
          sub_storage_id: 0
          has_consumer: True
          has_seller: True
          sale_gamma: 100
          unit_order_cost: 1.0
          backlog_ratio: 0.01
        SKU8:
          price: 0.0
          init_stock: 0
          sub_storage_id: 0
          has_consumer: True
          has_seller: True
          sale_gamma: 100
          unit_order_cost: 1.0
          backlog_ratio: 0.01
        SKU9:
          price: 0.0
          init_stock: 0
          sub_storage_id: 0
          has_consumer: True
          has_seller: True
          sale_gamma: 100
          unit_order_cost: 1.0
          backlog_ratio: 0.01
      children:
        storage: *single_storage
      config:
        unit_order_cost: 1.0
        file_path: "maro/simulator/scenarios/supply_chain/topologies/Plant_Store_SKU10/data/Store_0.csv"

    - name: Store_1
      definition_ref: StoreFacility
      skus:
        SKU0:
          price: 0.0
          init_stock: 0
          sub_storage_id: 0
          has_consumer: True
          has_seller: True
          sale_gamma: 100
          unit_order_cost: 1.0
          backlog_ratio: 0.01
        SKU1:
          price: 0.0
          init_stock: 0
          sub_storage_id: 0
          has_consumer: True
          has_seller: True
          sale_gamma: 100
          unit_order_cost: 1.0
          backlog_ratio: 0.01
        SKU2:
          price: 0.0
          init_stock: 0
          sub_storage_id: 0
          has_consumer: True
          has_seller: True
          sale_gamma: 100
          unit_order_cost: 1.0
          backlog_ratio: 0.01
        SKU3:
          price: 0.0
          init_stock: 0
          sub_storage_id: 0
          has_consumer: True
          has_seller: True
          sale_gamma: 100
          unit_order_cost: 1.0
          backlog_ratio: 0.01
        SKU4:
          price: 0.0
          init_stock: 0
          sub_storage_id: 0
          has_consumer: True
          has_seller: True
          sale_gamma: 100
          unit_order_cost: 1.0
          backlog_ratio: 0.01
        SKU5:
          price: 0.0
          init_stock: 0
          sub_storage_id: 0
          has_consumer: True
          has_seller: True
          sale_gamma: 100
          unit_order_cost: 1.0
          backlog_ratio: 0.01
        SKU6:
          price: 0.0
          init_stock: 0
          sub_storage_id: 0
          has_consumer: True
          has_seller: True
          sale_gamma: 100
          unit_order_cost: 1.0
          backlog_ratio: 0.01
        SKU7:
          price: 0.0
          init_stock: 0
          sub_storage_id: 0
          has_consumer: True
          has_seller: True
          sale_gamma: 100
          unit_order_cost: 1.0
          backlog_ratio: 0.01
        SKU8:
          price: 0.0
          init_stock: 0
          sub_storage_id: 0
          has_consumer: True
          has_seller: True
          sale_gamma: 100
          unit_order_cost: 1.0
          backlog_ratio: 0.01
        SKU9:
          price: 0.0
          init_stock: 0
          sub_storage_id: 0
          has_consumer: True
          has_seller: True
          sale_gamma: 100
          unit_order_cost: 1.0
          backlog_ratio: 0.01
      children:
        storage: *single_storage
      config:
        unit_order_cost: 1.0
        file_path: "maro/simulator/scenarios/supply_chain/topologies/Plant_Store_SKU10/data/Store_1.csv"

    - name: Store_2
      definition_ref: StoreFacility
      skus:
        SKU0:
          price: 0.0
          init_stock: 0
          sub_storage_id: 0
          has_consumer: True
          has_seller: True
          sale_gamma: 100
          unit_order_cost: 1.0
          backlog_ratio: 0.01
        SKU1:
          price: 0.0
          init_stock: 0
          sub_storage_id: 0
          has_consumer: True
          has_seller: True
          sale_gamma: 100
          unit_order_cost: 1.0
          backlog_ratio: 0.01
        SKU2:
          price: 0.0
          init_stock: 0
          sub_storage_id: 0
          has_consumer: True
          has_seller: True
          sale_gamma: 100
          unit_order_cost: 1.0
          backlog_ratio: 0.01
        SKU3:
          price: 0.0
          init_stock: 0
          sub_storage_id: 0
          has_consumer: True
          has_seller: True
          sale_gamma: 100
          unit_order_cost: 1.0
          backlog_ratio: 0.01
        SKU4:
          price: 0.0
          init_stock: 0
          sub_storage_id: 0
          has_consumer: True
          has_seller: True
          sale_gamma: 100
          unit_order_cost: 1.0
          backlog_ratio: 0.01
        SKU5:
          price: 0.0
          init_stock: 0
          sub_storage_id: 0
          has_consumer: True
          has_seller: True
          sale_gamma: 100
          unit_order_cost: 1.0
          backlog_ratio: 0.01
        SKU6:
          price: 0.0
          init_stock: 0
          sub_storage_id: 0
          has_consumer: True
          has_seller: True
          sale_gamma: 100
          unit_order_cost: 1.0
          backlog_ratio: 0.01
        SKU7:
          price: 0.0
          init_stock: 0
          sub_storage_id: 0
          has_consumer: True
          has_seller: True
          sale_gamma: 100
          unit_order_cost: 1.0
          backlog_ratio: 0.01
        SKU8:
          price: 0.0
          init_stock: 0
          sub_storage_id: 0
          has_consumer: True
          has_seller: True
          sale_gamma: 100
          unit_order_cost: 1.0
          backlog_ratio: 0.01
        SKU9:
          price: 0.0
          init_stock: 0
          sub_storage_id: 0
          has_consumer: True
          has_seller: True
          sale_gamma: 100
          unit_order_cost: 1.0
          backlog_ratio: 0.01
      children:
        storage: *single_storage
      config:
        unit_order_cost: 1.0
        file_path: "maro/simulator/scenarios/supply_chain/topologies/Plant_Store_SKU10/data/Store_2.csv"

  topology:
    Store_0:
      SKU0:
        Plant:
          train:
            cost: 1
            vlt: 2
      SKU1:
        Plant:
          train:
            cost: 1
            vlt: 2
      SKU2:
        Plant:
          train:
            cost: 1
            vlt: 2
      SKU3:
        Plant:
          train:
            cost: 1
            vlt: 5
      SKU4:
        Plant:
          train:
            cost: 1
            vlt: 2
      SKU5:
        Plant:
          train:
            cost: 1
            vlt: 2
      SKU6:
        Plant:
          train:
            cost: 1
            vlt: 2
      SKU7:
        Plant:
          train:
            cost: 1
            vlt: 7
      SKU8:
        Plant:
          train:
            cost: 1
            vlt: 7
      SKU9:
        Plant:
          train:
            cost: 1
            vlt: 3

    Store_1:
      SKU0:
        Plant:
          train:
            cost: 1
            vlt: 2
      SKU1:
        Plant:
          train:
            cost: 1
            vlt: 2
      SKU2:
        Plant:
          train:
            cost: 1
            vlt: 2
      SKU3:
        Plant:
          train:
            cost: 1
            vlt: 5
      SKU4:
        Plant:
          train:
            cost: 1
            vlt: 2
      SKU5:
        Plant:
          train:
            cost: 1
            vlt: 2
      SKU6:
        Plant:
          train:
            cost: 1
            vlt: 2
      SKU7:
        Plant:
          train:
            cost: 1
            vlt: 7
      SKU8:
        Plant:
          train:
            cost: 1
            vlt: 7
      SKU9:
        Plant:
          train:
            cost: 1
            vlt: 3

    Store_2:
      SKU0:
        Plant:
          train:
            cost: 1
            vlt: 2
      SKU1:
        Plant:
          train:
            cost: 1
            vlt: 2
      SKU2:
        Plant:
          train:
            cost: 1
            vlt: 2
      SKU3:
        Plant:
          train:
            cost: 1
            vlt: 5
      SKU4:
        Plant:
          train:
            cost: 1
            vlt: 2
      SKU5:
        Plant:
          train:
            cost: 1
            vlt: 2
      SKU6:
        Plant:
          train:
            cost: 1
            vlt: 2
      SKU7:
        Plant:
          train:
            cost: 1
            vlt: 7
      SKU8:
        Plant:
          train:
            cost: 1
            vlt: 7
      SKU9:
        Plant:
          train:
            cost: 1
            vlt: 3


settings:
  pending_order_len: 4
  start_date_time: "2021-07-01"


policy_parameter:
  facilities:
    Plant:
      max_price: 0.0
    Store_0:
      max_price: 0.0
    Store_1:
      max_price: 0.0
    Store_2:
      max_price: 0.0
